= Jackson Singleton Access
:source-highlighter: highlightjs
// Actual lib version
:version-actual: 4.0.0
// Lib feature version, used for doc links.
:version-feature: 4.0.0

image:https://img.shields.io/github/license/veupathdb/lib-jackson-singleton[]
image:https://img.shields.io/badge/version-{version-actual}-blue[Version]
image:https://img.shields.io/badge/jvm-21-rebeccapurple[Required JVM Version]

Provides a singleton over a universally configured FasterXML Jackson JSON
`ObjectMapper` instance API.

This is intended to unify the access of Jackson object mappers to avoid multiple
separately configured instances floating about in a single project.

Additionally, provides a set of helper/utility methods for working with Jackson
APIs in Kotlin.

== Usage

.build.gradle.kts
[source, kotlin, subs="attributes"]
----
dependencies {
  // For JSON operations
  implementation("org.veupathdb.lib:jackson-singleton-json:{version-actual}")
  // For YAML operations
  implementation("org.veupathdb.lib:jackson-singleton-yaml:{version-actual}")
}
----

=== API Docs

* https://veupathdb.github.io/lib-jackson-singleton/jackson-singleton-common/v{version-feature}[Common Functionality]
* https://veupathdb.github.io/lib-jackson-singleton/jackson-singleton-json/v{version-feature}[JSON Operations]
* https://veupathdb.github.io/lib-jackson-singleton/jackson-singleton-yaml/v{version-feature}[YAML Operations]


=== Examples

[source, kotlin]
----
import org.veupathdb.lib.jackson.Json

// Creates a new ObjectNode representing the JSON:
// {
//   "key": "value"
// }
fun createObject(): ObjectNode = Json.new {
  put("key", "value")
}

// Parses a `Person` instance.
//
// This method uses the return type Person to shortcut
// to Mapper.readValue(inputStream, Person::class.java)
fun parseJson(): Person =
  Json.parse(File("foo.json").inputStream())
----
